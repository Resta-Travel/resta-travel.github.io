<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Travel Palembang Lampung PP via Tol Tercepat: Jadwal & Harga Terbaru 2026 | Resta Travel</title>
    <meta name="description" content="Layanan Travel Palembang Lampung PP tercepat full via Tol Trans Sumatera. Cek jadwal keberangkatan pagi-malam dan harga tiket eksekutif terbaru 2026 di sini. Armada HiAce nyaman, antar jemput door to door.">
    <meta name="keywords" content="travel palembang lampung via tol tercepat, travel lampung palembang pp 2026, harga travel palembang lampung terbaru 2026, jadwal travel palembang lampung via tol, travel eksekutif palembang lampung">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://restatravel.site/travel-palembang-lampung-pp-via-tol">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
        body { font-family: 'Poppins', sans-serif; background-color: #f8fafc; color: #334155; }
        
        /* Glassmorphism Panel untuk Form */
        .glass-card {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(203, 213, 225, 0.5);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
        }

        /* --- STYLING DENAH KURSI HIACE (STANDAR RESTA TRAVEL - 4 KOLOM) --- */
        .car-body {
            background-color: #fff; border: 4px solid #cbd5e1; border-radius: 40px; padding: 20px 15px 30px 15px;
            position: relative; max-width: 320px; margin: 0 auto; box-shadow: inset 0 0 20px rgba(0,0,0,0.05);
        }
        .windshield {
            height: 40px; background: linear-gradient(to bottom, #94a3b8, #e2e8f0); border-radius: 30px 30px 5px 5px;
            margin-bottom: 20px; border: 1px solid #64748b;
        }
        /* Grid 4 Kolom untuk HiAce */
        .seat-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px 8px; }
        
        .seat {
            height: 45px; background: #f1f5f9; border: 1px solid #94a3b8; border-radius: 8px;
            display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 14px;
            color: #475569; cursor: pointer; position: relative; transition: all 0.2s ease; box-shadow: 0 2px 2px rgba(0,0,0,0.1);
        }
        .seat:hover:not(.driver):not(.selected) { background-color: #bfdbfe; transform: translateY(-2px); border-color: #3b82f6; }
        .seat.selected { background: linear-gradient(135deg, #2563eb, #1d4ed8); color: white; border-color: #1e40af; box-shadow: 0 4px 6px rgba(37, 99, 235, 0.4); }
        .seat.driver { background-color: #334155; color: #fbbf24; cursor: default; border: none; }
        
        .floating-chat { position: fixed; bottom: 30px; right: 30px; z-index: 100; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(37, 211, 102, 0); } 100% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0); } }

        /* TICKET MODAL STYLES (DIPERTAHANKAN) */
        #ticket-modal { z-index: 200; background-color: rgba(0,0,0,0.8); }
        #ticket-content { font-family: 'Poppins', sans-serif; }
    </style>
</head>
<body class="text-slate-800">

    <nav class="fixed w-full z-50 transition-all duration-300 bg-white/95 backdrop-blur-md shadow-md">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="index.html" class="flex items-center text-2xl font-bold text-blue-900">
                Resta<span class="text-blue-600">Travel</span>
            </a>
            <div class="hidden md:flex items-center gap-6 font-medium text-slate-600">
                <a href="#info-utama" class="hover:text-blue-700 transition">Info Rute Tol</a>
                <a href="#jadwal-harga" class="hover:text-blue-700 transition">Jadwal & Harga</a>
                <a href="#booking" class="bg-blue-600 text-white px-5 py-2 rounded-full hover:bg-blue-700 transition shadow-lg shadow-blue-500/30 animate-pulse">Pesan Tiket Online</a>
            </div>
            <button class="md:hidden text-slate-600 text-2xl"><i class="fas fa-bars"></i></button>
        </div>
    </nav>

    <header class="relative pt-32 pb-16 lg:pt-40 lg:pb-28 bg-slate-900 text-white">
        <div class="absolute inset-0 z-0 opacity-50">
             <img src="images/gambar7.jpeg" alt="Perjalanan Travel Palembang Lampung via Tol Trans Sumatera" class="w-full h-full object-cover">
        </div>
        <div class="absolute inset-0 bg-gradient-to-t from-blue-900 via-slate-900/80 to-transparent z-0"></div>

        <div class="container relative z-10 px-4 text-center max-w-5xl mx-auto">
            <span class="inline-block py-1 px-4 rounded-full bg-blue-500/20 border border-blue-400 text-blue-300 text-sm font-bold mb-4 backdrop-blur-sm">
                <i class="fas fa-tachometer-alt mr-1"></i> RUTE VIA TOL TRANS SUMATERA
            </span>
            <h1 class="text-3xl md:text-5xl font-bold mb-6 leading-tight">
                Travel Palembang Lampung PP via Tol Tercepat: Jadwal & Harga Terbaru 2026
            </h1>
            <p class="text-lg text-slate-200 mb-8 max-w-2xl mx-auto">
                Solusi perjalanan darat paling efisien tahun ini. Pangkas waktu tempuh secara signifikan dengan armada HiAce Executive yang nyaman. Antar jemput sampai depan pintu.
            </p>
            <a href="#booking" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-full font-bold text-lg transition shadow-lg shadow-blue-500/30 inline-flex items-center gap-2">
                <i class="fas fa-ticket-alt text-xl"></i> Cek Kursi & Pesan Sekarang
            </a>
        </div>
    </header>

    <section id="info-utama" class="py-16 bg-white">
        <div class="container mx-auto px-4 max-w-4xl">
            <article class="prose lg:prose-xl mx-auto text-slate-600">
                <p class="lead text-xl text-slate-700 mb-8 font-medium">
                    Mencari layanan <strong>Travel Palembang Lampung PP via Tol tercepat</strong> dengan harga yang masuk akal di tahun 2026 ini? Resta Travel adalah jawaban untuk efisiensi waktu Anda.
                </p>

                <p>
                    Lupakan perjalanan darat yang melelahkan dan memakan waktu seharian. Dengan beroperasinya Tol Trans Sumatera secara penuh, rute Palembang menuju Lampung (dan sebaliknya) kini dapat ditempuh jauh lebih singkat. Resta Travel memaksimalkan infrastruktur ini untuk memberikan pengalaman perjalanan eksekutif yang cepat namun tetap mengutamakan keselamatan.
                </p>

                <h2 id="jadwal-harga" class="text-2xl font-bold text-slate-800 mt-12 mb-6">Jadwal dan Harga Tiket Terbaru 2026</h2>
                <p>
                    Kami memahami kebutuhan mobilitas Anda yang dinamis. Oleh karena itu, kami menyediakan jadwal keberangkatan Pulang Pergi (PP) yang fleksibel dari pagi hingga malam hari, dengan penyesuaian harga terbaru yang kompetitif untuk tahun 2026.
                </p>

                <div class="not-prose my-8 overflow-hidden rounded-xl border border-slate-200 shadow-sm">
                    <table class="min-w-full bg-white text-sm md:text-base">
                        <thead class="bg-blue-900 text-white">
                            <tr>
                                <th class="py-3 px-4 text-left">Rute Perjalanan (PP)</th>
                                <th class="py-3 px-4 text-center">Pilihan Jadwal</th>
                                <th class="py-3 px-4 text-right">Harga Tiket 2026</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-100">
                            <tr>
                                <td class="py-4 px-4 font-semibold">Palembang â‡„ Bandar Lampung</td>
                                <td class="py-4 px-4 text-center">Pagi (11:00), Sore (15:00), Malam (20:00)</td>
                                <td class="py-4 px-4 text-right font-bold text-blue-600">Rp 250.000 /org</td>
                            </tr>
                            <tr class="bg-slate-50">
                                <td class="py-4 px-4 font-semibold">Palembang â‡„ Metro</td>
                                <td class="py-4 px-4 text-center">Pagi (11:00), Sore (15:00), Malam (20:00)</td>
                                <td class="py-4 px-4 text-right font-bold text-blue-600">Rp 280.000 /org</td>
                            </tr>
                        </tbody>
                    </table>
                    <p class="text-xs text-slate-500 p-3 bg-slate-50 italic">*Harga dapat berubah sewaktu-waktu (misal: tuslah lebaran/nataru). Harga di atas adalah tarif normal full via tol.*</p>
                </div>

                <h3 class="text-2xl font-bold text-slate-800 mt-8 mb-4">Keunggulan Layanan Via Tol Kami</h3>
                <ul class="space-y-4 not-prose mb-10">
                    <li class="flex items-start gap-3">
                        <span class="bg-blue-100 text-blue-600 p-2 rounded-full"><i class="fas fa-tachometer-alt"></i></span>
                        <div><strong>Waktu Tempuh Singkat:</strong> Memangkas waktu perjalanan secara signifikan dibandingkan melalui jalan lintas biasa.</div>
                    </li>
                    <li class="flex items-start gap-3">
                        <span class="bg-blue-100 text-blue-600 p-2 rounded-full"><i class="fas fa-shuttle-van"></i></span>
                        <div><strong>Armada HiAce Nyaman:</strong> Kendaraan lebih stabil di jalan tol, AC dingin, dan kabin senyap, membuat perjalanan jauh tidak terasa melelahkan.</div>
                    </li>
                    <li class="flex items-start gap-3">
                        <span class="bg-blue-100 text-blue-600 p-2 rounded-full"><i class="fas fa-door-open"></i></span>
                        <div><strong>Door to Door Service:</strong> Meskipun cepat via tol, kami tetap menjemput dan mengantar Anda sampai ke alamat tujuan dalam kota.</div>
                    </li>
                </ul>

                <p class="mt-10">
                    Amankan kursi Anda sekarang untuk mendapatkan jadwal terbaik. Gunakan formulir pemesanan di bawah ini untuk reservasi instan yang terhubung langsung ke WhatsApp admin kami.
                </p>
            </article>
        </div>
    </section>

    <section id="booking" class="relative py-16 bg-slate-100 container mx-auto px-4 z-10">
        <div class="text-center mb-10">
            <span class="text-blue-600 font-bold tracking-wider text-sm uppercase">Booking Online Cepat</span>
            <h2 class="text-3xl md:text-4xl font-bold text-slate-800 mt-2">Formulir Pesan Tiket Travel</h2>
            <p class="text-slate-500 mt-2">Melayani rute Palembang, Lampung, Jakarta, dan Jambi.</p>
        </div>

        <div class="glass-card rounded-3xl p-6 md:p-10 max-w-6xl mx-auto">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-10">
                
                <div class="lg:col-span-7 space-y-6">
                    <div class="bg-white/80 p-6 rounded-2xl border border-slate-200 shadow-sm">
                        <h3 class="font-bold text-blue-900 text-lg mb-4 flex items-center gap-2"><i class="fas fa-route"></i> Rute & Jadwal</h3>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-5 mb-4">
                            <div>
                                <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Kota Asal</label>
                                <select id="asal" onchange="calculatePrice()" class="w-full p-3 bg-slate-50 rounded-lg border border-slate-300 focus:ring-2 focus:ring-blue-500 outline-none transition">
                                    <option value="">Pilih Asal</option>
                                    <option value="Palembang">Palembang</option>
                                    <option value="Bandar Lampung">Bandar Lampung</option>
                                    <option value="Jakarta">Jakarta</option>
                                    <option value="Jambi">Jambi</option>
                                    <option value="Metro">Metro</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Kota Tujuan</label>
                                <select id="tujuan" onchange="calculatePrice()" class="w-full p-3 bg-slate-50 rounded-lg border border-slate-300 focus:ring-2 focus:ring-blue-500 outline-none transition">
                                    <option value="">Pilih Tujuan</option>
                                    <option value="Palembang">Palembang</option>
                                    <option value="Bandar Lampung">Bandar Lampung</option>
                                    <option value="Jakarta">Jakarta</option>
                                    <option value="Jambi">Jambi</option>
                                    <option value="Metro">Metro</option>
                                </select>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                            <div>
                                <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Tanggal Berangkat</label>
                                <input type="date" id="tanggal" class="w-full p-3 bg-slate-50 rounded-lg border border-slate-300 focus:ring-2 focus:ring-blue-500 outline-none transition">
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Jam Berangkat</label>
                                <select id="jam" class="w-full p-3 bg-slate-50 rounded-lg border border-slate-300 focus:ring-2 focus:ring-blue-500 outline-none transition">
                                    <option value="11:00 Siang">11:00 Siang</option>
                                    <option value="15:00 Sore">15:00 Sore</option>
                                    <option value="20:00 Malam">20:00 Malam</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white/80 p-6 rounded-2xl border border-slate-200 shadow-sm">
                        <h3 class="font-bold text-blue-900 text-lg mb-4 flex items-center gap-2"><i class="fas fa-user-edit"></i> Data Penumpang</h3>
                        <div class="space-y-4">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                                <div>
                                    <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Nama Lengkap</label>
                                    <input type="text" id="nama" placeholder="Nama Pemesan" class="w-full p-3 bg-slate-50 rounded-lg border border-slate-300 focus:ring-2 focus:ring-blue-500 outline-none transition">
                                </div>
                                <div>
                                    <label class="block text-xs font-bold text-slate-500 uppercase mb-1">No. WhatsApp</label>
                                    <input type="tel" id="hp" placeholder="08xxxxxxxxxx" class="w-full p-3 bg-slate-50 rounded-lg border border-slate-300 focus:ring-2 focus:ring-blue-500 outline-none transition">
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Alamat Jemput Lengkap</label>
                                <textarea id="alamat_jemput" rows="2" placeholder="Nama Jalan, No. Rumah, Kelurahan, Patokan..." class="w-full p-3 bg-slate-50 rounded-lg border border-slate-300 focus:ring-2 focus:ring-blue-500 outline-none transition"></textarea>
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Alamat Tujuan Lengkap</label>
                                <textarea id="alamat_antar" rows="2" placeholder="Alamat tujuan pengantaran..." class="w-full p-3 bg-slate-50 rounded-lg border border-slate-300 focus:ring-2 focus:ring-blue-500 outline-none transition"></textarea>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="lg:col-span-5">
                    <div class="bg-white p-6 rounded-3xl shadow-xl border border-slate-200 sticky top-24">
                        <h3 class="font-bold text-xl mb-1 text-slate-800 text-center">Pilih Kursi HiAce</h3>
                        <p class="text-xs text-slate-400 text-center mb-6">Supir di Kanan Depan</p>
                        
                        <div class="relative pb-6">
                            <div class="absolute top-[60px] left-1/2 -ml-[182px] w-5 h-8 bg-slate-700 rounded-l-md"></div>
                            <div class="absolute top-[60px] right-1/2 -mr-[182px] w-5 h-8 bg-slate-700 rounded-r-md"></div>

                            <div class="car-body">
                                <div class="windshield"></div>
                                <div class="seat-grid">
                                    <div class="seat" onclick="toggleSeat(this, 1)">1</div>
                                    <div class="col-span-2"></div> 
                                    <div class="seat driver"><i class="fas fa-steering-wheel"></i></div>
                                    
                                    <div></div>
                                    <div class="seat" onclick="toggleSeat(this, 4)">4</div>
                                    <div class="seat" onclick="toggleSeat(this, 3)">3</div>
                                    <div class="seat" onclick="toggleSeat(this, 2)">2</div>
                                    
                                    <div class="seat" onclick="toggleSeat(this, 7)">7</div>
                                    <div></div>
                                    <div class="seat" onclick="toggleSeat(this, 6)">6</div>
                                    <div class="seat" onclick="toggleSeat(this, 5)">5</div>
                                    
                                    <div class="seat" onclick="toggleSeat(this, 10)">10</div>
                                    <div></div>
                                    <div class="seat" onclick="toggleSeat(this, 9)">9</div>
                                    <div class="seat" onclick="toggleSeat(this, 8)">8</div>
                                    
                                    <div class="seat" onclick="toggleSeat(this, 14)">14</div>
                                    <div class="seat" onclick="toggleSeat(this, 13)">13</div>
                                    <div class="seat" onclick="toggleSeat(this, 12)">12</div>
                                    <div class="seat" onclick="toggleSeat(this, 11)">11</div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-slate-50 p-5 rounded-2xl border border-slate-200 mb-6">
                            <div class="flex justify-between mb-2 text-sm text-slate-600">
                                <span>Kursi Dipilih:</span> <span id="seat-list" class="font-bold text-slate-900">-</span>
                            </div>
                            <hr class="border-slate-200 my-2">
                            <div class="flex justify-between items-end">
                                <span>Harga Satuan: <span id="unit-price-display" class="font-semibold">Rp 0</span></span>
                            </div>
                            <div class="flex justify-between items-end mt-2">
                                <span class="font-bold text-slate-700">Total Harga</span>
                                <span id="total-price" class="font-bold text-3xl text-blue-600">Rp 0</span>
                            </div>
                        </div>

                        <button onclick="sendToWhatsapp()" class="w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-4 px-6 rounded-xl shadow-lg shadow-green-500/30 transition transform hover:-translate-y-1 flex justify-center items-center gap-3 group text-lg">
                            <i class="fab fa-whatsapp text-2xl group-hover:animate-bounce"></i> KIRIM PESANAN VIA WA
                        </button>
                        <p class="text-xs text-center text-slate-500 mt-4">*E-Ticket akan muncul otomatis setelah klik tombol di atas.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div id="ticket-modal" class="fixed inset-0 hidden items-center justify-center p-4 backdrop-blur-sm bg-black/60 transition-opacity" style="z-index: 200;">
        <div class="bg-white rounded-3xl shadow-2xl max-w-md w-full overflow-hidden scale-95 opacity-0 transition-all duration-300 max-h-[90vh] overflow-y-auto" id="ticket-container">
            <div class="p-5 bg-blue-600 text-white text-center relative sticky top-0 z-10">
                 <h3 class="text-xl font-bold">E-Ticket Booking</h3>
                 <p class="text-sm opacity-90">Menunggu Konfirmasi Admin</p>
                 <button onclick="closeTicketModal()" class="absolute top-4 right-4 text-white/80 hover:text-white"><i class="fas fa-times text-xl"></i></button>
            </div>
            
            <div id="ticket-content" class="bg-blue-50 p-0 relative">
                <div class="bg-gradient-to-b from-blue-700 to-blue-600 p-6 text-center text-white">
                    <img src="logo.png" alt="Resta Travel Logo" class="h-16 mx-auto mb-2 object-contain brightness-0 invert">
                    <p class="text-sm italic font-medium mb-4">"PROFESIONAL DAN TEPAT WAKTU"</p>
                    <div class="inline-block bg-blue-500/50 border border-blue-400/50 rounded-full px-4 py-2 text-sm font-bold">
                        <i class="fab fa-whatsapp mr-1"></i> WA: 0812-7488-437
                    </div>
                </div>

                <div class="p-6">
                    <div class="bg-blue-100/50 border border-blue-200 rounded-xl p-4 text-center mb-6">
                        <p class="text-xs font-bold text-blue-600 mb-1">RUTE PERJALANAN</p>
                        <div class="flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-3">
                            <span id="t-asal" class="font-bold text-lg md:text-xl text-blue-900 uppercase text-center whitespace-normal break-words">Bandar Lampung</span>
                            <i class="fas fa-arrow-down sm:fa-arrow-right text-blue-400 my-1 sm:my-0"></i>
                            <span id="t-tujuan" class="font-bold text-lg md:text-xl text-blue-900 uppercase text-center whitespace-normal break-words">Palembang</span>
                        </div>
                    </div>

                    <div class="space-y-4 text-sm text-slate-800">
                        <div class="flex justify-between items-start border-b border-dashed border-slate-300 pb-3">
                            <div class="flex items-center gap-3 text-slate-500 mt-1 shrink-0">
                                <i class="fas fa-user w-5 text-center"></i>
                                <span>Nama Penumpang</span>
                            </div>
                            <span id="t-nama" class="font-bold text-right flex-1 pl-4 break-words">Budi Santoso</span>
                        </div>
                        <div class="flex justify-between items-start border-b border-dashed border-slate-300 pb-3">
                            <div class="flex items-center gap-3 text-slate-500 mt-1 shrink-0">
                                <i class="far fa-calendar-alt w-5 text-center"></i>
                                <span>Jadwal Keberangkatan</span>
                            </div>
                            <div class="text-right flex-1 pl-4">
                                <span id="t-tanggal" class="font-bold block">2026-02-16</span>
                                <span id="t-jam" class="font-bold block">20:00 Malam</span>
                            </div>
                        </div>
                        <div class="flex justify-between items-start border-b border-dashed border-slate-300 pb-3">
                            <div class="flex items-center gap-3 text-slate-500 mt-1 shrink-0">
                                <i class="fas fa-chair w-5 text-center"></i>
                                <span>Kursi Yang Dipesan</span>
                            </div>
                            <span id="t-kursi" class="font-bold text-right flex-1 pl-4 break-words">No. 4 (1 Seat)</span>
                        </div>
                        <div class="flex justify-between items-start border-b border-dashed border-slate-300 pb-3">
                            <div class="flex items-center gap-3 text-slate-500 mt-1 shrink-0">
                                <i class="fas fa-mobile-alt w-5 text-center"></i>
                                <span>Kontak Pemesan</span>
                            </div>
                            <span id="t-hp" class="font-bold text-right flex-1 pl-4 break-words">08123456789</span>
                        </div>
                        <div class="flex justify-between items-start border-b border-dashed border-slate-300 pb-3">
                            <div class="flex items-center gap-3 text-slate-500 mt-1 shrink-0">
                                <i class="fas fa-home w-5 text-center"></i>
                                <span>Titik Penjemputan</span>
                            </div>
                            <span id="t-jemput" class="font-bold text-right flex-1 pl-4 break-words">Jl. Sudirman No. 123, Kelurahan A, Kecamatan B (Depan Masjid Besar)</span>
                        </div>
                        <div class="flex justify-between items-start border-b border-dashed border-slate-300 pb-3">
                            <div class="flex items-center gap-3 text-slate-500 mt-1 shrink-0">
                                <i class="fas fa-map-marker-alt w-5 text-center"></i>
                                <span>Tujuan Pengantaran</span>
                            </div>
                            <span id="t-antar" class="font-bold text-right flex-1 pl-4 break-words">Jl. Gatot Subroto No. 456, Komplek C (Samping Indomaret)</span>
                        </div>
                    </div>

                    <div class="mt-6 relative">
                        <div class="border-2 border-dashed border-green-400 bg-green-50 p-4 rounded-xl text-center">
                            <p class="text-sm font-bold text-green-700 mb-1">TOTAL PEMBAYARAN</p>
                            <span id="t-total" class="text-3xl font-extrabold text-green-800">Rp 250.000</span>
                        </div>
                        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rotate-[-15deg] border-4 border-red-500 text-red-500 font-bold text-xl px-4 py-2 rounded-md opacity-80 pointer-events-none" style="text-shadow: 1px 1px 2px rgba(0,0,0,0.1);">
                            BELUM LUNAS
                        </div>
                    </div>
                </div>
                 
                 <div class="bg-slate-100 p-4 text-center text-[10px] text-slate-500 leading-tight">
                    <span class="font-bold">PENTING:</span> Harap siap di lokasi 30 menit sebelum jadwal. Keterlambatan dapat menyebabkan tiket hangus.<br>
                    <i>Terima kasih telah memilih Resta Travel.</i>
                </div>
            </div>

            <div class="p-5 bg-slate-100 text-center border-t border-slate-200 sticky bottom-0 z-10">
                <p class="text-sm text-slate-600 mb-4">Simpan gambar ini sebagai bukti pemesanan sementara.</p>
                <button id="download-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-xl shadow-lg shadow-blue-500/30 transition flex items-center justify-center gap-2 mx-auto w-full sm:w-auto">
                    <i class="fas fa-download"></i> Download E-Ticket (PNG)
                </button>
            </div>
        </div>
    </div>

    <a href="https://wa.me/628127488437" target="_blank" class="floating-chat bg-green-500 hover:bg-green-600 text-white w-14 h-14 rounded-full flex items-center justify-center shadow-2xl transition-transform hover:scale-110" aria-label="Chat WhatsApp">
        <i class="fab fa-whatsapp text-3xl"></i>
    </a>

    <footer class="bg-slate-900 text-white py-10 mt-20 border-t-4 border-blue-600">
        <div class="container mx-auto px-4 text-center">
            <h3 class="text-2xl font-bold mb-2">Resta Travel</h3>
            <p class="text-slate-400 mb-6">Solusi Transportasi Darat Terpercaya Palembang, Lampung, Jakarta, Jambi</p>
            <div class="flex justify-center gap-4 mb-8">
                <a href="#" class="text-slate-400 hover:text-white"><i class="fab fa-facebook fa-lg"></i></a>
                <a href="#" class="text-slate-400 hover:text-white"><i class="fab fa-instagram fa-lg"></i></a>
                <a href="#" class="text-slate-400 hover:text-white"><i class="fab fa-tiktok fa-lg"></i></a>
            </div>
            <div class="border-t border-slate-800 pt-8 text-sm text-slate-500">
                &copy; 2026 Resta Travel. Hak Cipta Dilindungi.
            </div>
        </div>
    </footer>

    <script>
        let selectedSeats = [];
        let unitPrice = 0; 

        // DATABASE HARGA RESTA TRAVEL (Termasuk Metro)
        const prices = {
            "Palembang-Bandar Lampung": 250000, "Bandar Lampung-Palembang": 250000,
            "Palembang-Jakarta": 600000, "Jakarta-Palembang": 600000,
            "Palembang-Jambi": 200000, "Jambi-Palembang": 200000,
            "Bandar Lampung-Jakarta": 400000, "Jakarta-Bandar Lampung": 400000,
            "Bandar Lampung-Jambi": 450000, "Jambi-Bandar Lampung": 450000,
            "Metro-Palembang": 280000, "Palembang-Metro": 250000,
            "Metro-Jakarta": 500000, "Jakarta-Metro": 500000,
            "Metro-Jambi": 450000, "Jambi-Metro": 450000,
        };

        const formatRupiah = (angka) => new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(angka);

        function calculatePrice() {
            const asal = document.getElementById('asal').value;
            const tujuan = document.getElementById('tujuan').value;
            const key = `${asal}-${tujuan}`;

            if (prices[key]) {
                unitPrice = prices[key];
            } else {
                unitPrice = 0; 
            }
            
            document.getElementById('unit-price-display').innerText = formatRupiah(unitPrice);
            updateTotal(); 
        }

        function toggleSeat(el, number) {
            if (el.classList.contains('selected')) {
                el.classList.remove('selected');
                selectedSeats = selectedSeats.filter(s => s !== number);
            } else {
                el.classList.add('selected');
                selectedSeats.push(number);
            }
            selectedSeats.sort((a, b) => a - b);
            updateTotal();
        }

        function updateTotal() {
            document.getElementById('seat-list').innerText = selectedSeats.length > 0 ? selectedSeats.join(', ') : '-';
            const total = selectedSeats.length * unitPrice;
            document.getElementById('total-price').innerText = formatRupiah(total);
        }

        // --- FUNGSI GENERATE TIKET GAMBAR ---
        function generateTicket(nama, hp, asal, tujuan, tanggal, jam, jemput, antar, totalBayar) {
            // 1. Isi data ke dalam template tiket HTML
            document.getElementById('t-nama').innerText = nama;
            document.getElementById('t-hp').innerText = hp;
            document.getElementById('t-asal').innerText = asal;
            document.getElementById('t-tujuan').innerText = tujuan;
            document.getElementById('t-tanggal').innerText = tanggal;
            document.getElementById('t-jam').innerText = jam;
            document.getElementById('t-jemput').innerText = jemput;
            document.getElementById('t-antar').innerText = antar;
            document.getElementById('t-kursi').innerText = `No. ${selectedSeats.join(', ')} (${selectedSeats.length} Seat)`;
            document.getElementById('t-total').innerText = totalBayar;

            // 2. Tampilkan Modal
            const modal = document.getElementById('ticket-modal');
            const container = document.getElementById('ticket-container');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            setTimeout(() => {
                container.classList.remove('scale-95', 'opacity-0');
                container.classList.add('scale-100', 'opacity-100');
            }, 10);

            // 3. Siapkan Tombol Download
            const downloadBtn = document.getElementById('download-btn');
            const newBtn = downloadBtn.cloneNode(true);
            downloadBtn.parentNode.replaceChild(newBtn, downloadBtn);

            newBtn.addEventListener('click', function() {
                const originalText = this.innerHTML;
                this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Memproses...';
                this.disabled = true;

                const ticketElement = document.getElementById('ticket-content');

                html2canvas(ticketElement, {
                    scale: 3, // Kualitas tinggi
                    useCORS: true,
                    backgroundColor: '#ffffff'
                }).then(canvas => {
                    const link = document.createElement('a');
                    link.download = `E-Ticket_RestaTravel_${nama.replace(/\s+/g, '_')}_${tanggal}.png`;
                    link.href = canvas.toDataURL("image/png");
                    link.click();

                    this.innerHTML = originalText;
                    this.disabled = false;
                }).catch(err => {
                    console.error("Gagal generate gambar:", err);
                    alert("Maaf, gagal membuat gambar tiket. Silakan screenshot layar ini.");
                    this.innerHTML = originalText;
                    this.disabled = false;
                });
            });
        }

        function closeTicketModal() {
            const modal = document.getElementById('ticket-modal');
            const container = document.getElementById('ticket-container');
            container.classList.remove('scale-100', 'opacity-100');
            container.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.remove('flex');
                modal.classList.add('hidden');
            }, 300);
        }

        // --- FUNGSI KIRIM WA & TRIGGER TIKET ---
        function sendToWhatsapp() {
            const nama = document.getElementById('nama').value.trim();
            const hp = document.getElementById('hp').value.trim();
            const asal = document.getElementById('asal').value;
            const tujuan = document.getElementById('tujuan').value;
            const tanggal = document.getElementById('tanggal').value;
            const jam = document.getElementById('jam').value;
            const jemput = document.getElementById('alamat_jemput').value.trim();
            const antar = document.getElementById('alamat_antar').value.trim();

            if (nama === "" || hp === "" || tanggal === "" || asal === "" || tujuan === "") {
                alert("Mohon lengkapi Data Diri, Rute, dan Tanggal Perjalanan.");
                return;
            }
            if (selectedSeats.length === 0) {
                alert("Silakan pilih minimal 1 kursi di denah mobil.");
                return;
            }
            if (unitPrice === 0) {
                alert("Rute belum didukung atau harga belum tersedia. Cek kembali Asal dan Tujuan.");
                return;
            }

            const totalBayar = formatRupiah(selectedSeats.length * unitPrice);

            // 1. Generate dan Tampilkan Tiket Gambar DULU
            generateTicket(nama, hp, asal, tujuan, tanggal, jam, jemput, antar, totalBayar);

            // 2. Format Pesan WA
            let msg = `*PEMESANAN TIKET RESTA TRAVEL* ðŸš\n`;
            msg += `----------------------------------\n`;
            msg += `ðŸ‘¤ *Nama:* ${nama}\n`;
            msg += `ðŸ“± *No HP:* ${hp}\n`;
            msg += `ðŸ“ *Rute:* ${asal} âž¡ï¸ ${tujuan}\n`;
            msg += `ðŸ“… *Jadwal:* ${tanggal} | ${jam}\n`;
            msg += `ðŸ’º *Kursi:* No. ${selectedSeats.join(', ')} (${selectedSeats.length} Seat)\n`;
            msg += `ðŸ’° *Total:* ${totalBayar}\n`;
            msg += `----------------------------------\n`;
            msg += `ðŸ  *Jemput:* ${jemput}\n`;
            msg += `ðŸ¢ *Tujuan:* ${antar}\n\n`;
            msg += `Mohon info ketersediaan & pembayaran min. Terima kasih.`;

            // Buka WA dengan sedikit jeda agar modal tiket muncul duluan
            setTimeout(() => {
                 window.open(`https://wa.me/628127488437?text=${encodeURIComponent(msg)}`, '_blank');
            }, 500);
        }
        
        // Set tanggal minimal hari ini
        document.getElementById('tanggal').min = new Date().toISOString().split("T")[0];

        // Tutup modal jika klik di luar area konten
        document.getElementById('ticket-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeTicketModal();
            }
        });
    </script>

</body>
</html>